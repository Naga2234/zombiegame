<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Zombie Coop (HTTP v8.0)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
<style>
  :root{
    --bg:#f7faf7; --panel:#ffffff; --border:#e5e7eb; --muted:#64748b; --text:#0f172a;
    --btn:#f1f5f9; --btnb:#cbd5e1; --primary:#22c55e; --primaryb:#16a34a;
    --good:#16a34a; --bad:#ef4444; --accent:#60a5fa;
  }
  *{box-sizing:border-box} body{font-family:'Inter',system-ui,Arial;background:var(--bg);margin:0;color:var(--text)}
  header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#ffffff;border-bottom:1px solid var(--border);transition:background .3s ease,color .3s ease}
  .wrap{display:flex;min-height:calc(100vh - 56px);transition:padding .3s ease}
  aside{width:360px;background:var(--panel);border-right:1px solid var(--border);padding:16px;overflow:auto;transition:background .3s ease,border-color .3s ease,box-shadow .3s ease}
  main{flex:1;display:flex;align-items:center;justify-content:center;padding:12px}
  .btn{display:inline-flex;align-items:center;gap:6px;padding:10px 14px;margin:4px 0;border:1px solid var(--btnb);border-radius:10px;background:var(--btn);cursor:pointer}
  .btn.primary{background:var(--primary);color:#fff;border-color:var(--primaryb)}
  .btn:disabled{opacity:.55;cursor:not-allowed}
  .muted{color:var(--muted);font-size:12px}
  .row{margin:8px 0}
  .login-row{display:flex;gap:8px;align-items:center}
  .login-row input{flex:1}
  .login-row .btn{margin:0;white-space:nowrap}
  .auth-card{background:rgba(255,255,255,0.95);border-radius:24px;padding:32px 28px;box-shadow:0 24px 60px rgba(15,23,42,0.25);display:flex;flex-direction:column;gap:16px;border:1px solid rgba(255,255,255,0.45);backdrop-filter:blur(10px)}
  .auth-card__header h1{margin:0;font-size:28px;line-height:1.2}
  .auth-card__subtitle{margin:4px 0 0;font-size:16px;color:var(--muted)}
  .auth-card__hint{margin:0;color:var(--muted);line-height:1.5}
  .auth-card__label{font-weight:600;font-size:14px;margin-top:4px}
  .auth-card__indicators{min-height:18px}
  .auth-card__status{font-size:12px}
  .auth-card__actions{display:flex;gap:8px;flex-wrap:wrap}
  .auth-card__helper{font-size:12px;line-height:1.4}
  .auth-illustration{background:rgba(15,23,42,0.35);border-radius:28px;padding:32px;display:flex;flex-direction:column;gap:12px;box-shadow:0 30px 80px rgba(8,47,73,0.45);backdrop-filter:blur(6px);max-width:420px}
  .auth-illustration h2{margin:0;font-size:26px;line-height:1.25}
  .auth-illustration__badge{width:64px;height:64px;border-radius:20px;background:rgba(34,197,94,0.25);display:flex;align-items:center;justify-content:center;font-size:32px;color:#bbf7d0}
  .auth-illustration__list{margin:0;padding-left:20px;display:flex;flex-direction:column;gap:6px;font-size:14px;color:rgba(226,232,240,0.85)}
  body.auth-view{background:radial-gradient(1200px at 10% 10%,rgba(34,197,94,0.22),transparent 55%),radial-gradient(900px at 90% 20%,rgba(59,130,246,0.18),transparent 60%),linear-gradient(135deg,#0f172a 0%,#1f2937 45%,#0b1120 100%);color:#e2e8f0}
  body.auth-view header{background:rgba(15,23,42,0.2);border-bottom:1px solid rgba(226,232,240,0.2);color:#f8fafc}
  body.auth-view header .muted{color:rgba(226,232,240,0.75)}
  body.auth-view .wrap{justify-content:center;align-items:center;padding:48px 32px;gap:48px}
  body.auth-view aside{width:min(420px,100%);background:transparent;border-right:none;padding:0;overflow:visible;box-shadow:none}
  body.auth-view main{flex:0 1 420px;padding:0;color:#f8fafc}
  body.auth-view main:empty{display:none}
  body.auth-view main .auth-illustration{color:#f8fafc}
  body.auth-view aside .muted{color:#64748b}
  body.auth-view .auth-card__status{color:var(--muted)}
  @media (max-width:520px){
    .login-row{flex-direction:column;align-items:stretch}
    .login-row .btn{width:100%;justify-content:center;margin-top:8px}
    .auth-card{padding:28px 22px;border-radius:20px}
    .auth-card__actions{flex-direction:column}
    .auth-card__actions .btn{width:100%;justify-content:center}
  }
  @media (max-width:768px){
    body.auth-view .wrap{flex-direction:column;padding:32px 16px 48px;gap:32px}
    body.auth-view main{display:none}
    body.auth-view header{background:rgba(15,23,42,0.35)}
  }
  input,select,button{font-family:'Inter',system-ui,Arial}
  input,select{width:100%;padding:10px;border:1px solid var(--btnb);border-radius:10px;box-sizing:border-box}
  h2{margin:8px 0}
  canvas{background:#eaffea;border:1px solid #a7f3d0; cursor:crosshair}
  .sep{height:1px;background:var(--border);margin:12px 0}
  .pill{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;border:1px solid var(--border);background:#f8fafc;margin:2px; cursor:pointer}
  .ready{color:var(--good)} .notready{color:var(--bad)}
  .room{border:1px solid var(--border);border-radius:12px;padding:8px;margin:8px 0;background:#f8fff8}
  .rooms-container{display:flex;flex-direction:column;gap:12px;min-height:120px}
  .rooms-loading{padding:32px 0;text-align:center;color:var(--muted);font-size:14px}
  .empty-state{border:1px dashed var(--border);border-radius:16px;padding:32px 24px;background:#ffffff;display:flex;flex-direction:column;align-items:center;gap:12px;text-align:center;color:var(--muted)}
  .empty-state__icon{font-size:36px;line-height:1}
  .empty-state__title{font-weight:600;font-size:18px;color:var(--text)}
  .empty-state__text{font-size:14px;max-width:320px}
  .grid{display:grid;grid-template-columns:repeat(6,minmax(0,1fr));gap:6px}
  .card{border:1px solid var(--border);border-radius:12px;padding:10px;background:#ffffff;display:flex;align-items:center;gap:10px;cursor:pointer; user-select:none; transition:filter .15s, outline .15s; width:100%}
  .card.disabled{filter:grayscale(1); opacity:.65; cursor:not-allowed}
  .card.selected{outline:2px solid var(--accent)}
  .icon{width:28px;height:28px;display:inline-flex;align-items:center;justify-content:center;font-size:18px}
  .badge{font-size:12px;padding:2px 6px;border-radius:8px;border:1px solid var(--border);background:#fff}
  .modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;align-items:center;justify-content:center;padding:16px}
  .modal > .box{background:#fff;border-radius:14px;min-width:320px;max-width:520px;max-height:90vh;padding:16px;border:1px solid var(--border);overflow-y:auto}
  #shopBox{display:flex;flex-direction:column;gap:8px}
  .shop-items{max-height:60vh;overflow-y:auto;padding-right:4px}
  .avatar{width:28px;height:28px;border-radius:999px;vertical-align:middle;margin-right:8px}
  .pass-strength{margin:6px 0 12px;transition:all .25s ease}
  .pass-strength__track{width:100%;height:8px;border-radius:999px;background:var(--border);overflow:hidden}
  .pass-strength__bar{height:100%;width:0%;background:var(--bad);transition:width .25s ease,background .25s ease}
  .pass-strength__label{margin-top:4px;font-size:12px;color:var(--muted);transition:color .25s ease}
  .pass-strength.is-empty .pass-strength__bar{width:0%}
  .pass-strength.level-1 .pass-strength__bar{background:#f97316}
  .pass-strength.level-2 .pass-strength__bar{background:#facc15}
  .pass-strength.level-3 .pass-strength__bar{background:var(--accent)}
  .pass-strength.level-4 .pass-strength__bar{background:var(--good)}
  .pass-strength.level-3 .pass-strength__label,
  .pass-strength.level-4 .pass-strength__label{color:var(--text)}
  .profile-section-title{font-weight:600;font-size:16px;margin:4px 0 12px}
  .profile-tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px}
  .profile-tabs .btn{margin:0}
  .profile-inventory-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px}
  .profile-item{border:1px solid var(--border);border-radius:12px;padding:10px;background:#f8fafc;display:flex;gap:10px;align-items:center;min-height:56px}
  .profile-item-icon{font-size:20px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#fff;border-radius:10px}
  .profile-item-title{font-weight:600;font-size:14px}
  .profile-item-sub{font-size:12px;color:var(--muted);margin-top:2px}
  @media (max-width:480px){
    .profile-inventory-list{grid-template-columns:repeat(auto-fill,minmax(130px,1fr))}
  }
</style>
</head>
<body>
<header>
  <div><b>Zombie Coop v8.0</b></div>
  <div id="navbar" class="muted"></div>
</header>

<div class="wrap">
  <aside id="leftPanel"></aside>
  <main id="mainPanel"></main>
</div>

<div class="modal" id="createModal">
  <div class="box">
    <h3>–°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É</h3>
    <div class="row"><label>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã</label>
      <input id="roomName" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í–µ—á–µ—Ä–Ω–∏–π –∫–æ–æ–ø" />
    </div>
    <div class="row"><label>–ü–∞—Ä–æ–ª—å (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
      <input id="roomPass" placeholder="–û—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–π" />
    </div>
    <div class="row"><label>–†–µ–∂–∏–º</label>
      <select id="modeSelect"><option value="coop">Coop</option><option value="pvp">PvP</option><option value="survival" disabled>Survival (WIP)</option></select>
    </div>
    <div class="row"><label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤</label>
      <select id="maxPlayers"><option>2</option><option disabled>3</option><option disabled>4</option></select>
    </div>
    <div class="row" style="text-align:right">
      <button class="btn" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn primary" onclick="confirmCreate()">–°–æ–∑–¥–∞—Ç—å</button>
    </div>
  </div>
</div>

<div class="modal" id="profileModal">
  <div class="box">
    <div id="profileBox">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <div style="display:flex;justify-content:flex-end;align-items:center;margin-top:8px;gap:8px">
      <button class="btn" onclick="logout()"><span>üö™</span> –í—ã–π—Ç–∏</button>
      <button class="btn" onclick="closeProfile()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>
</div>

<div class="modal" id="shopModal">
  <div class="box">
    <h3>–ú–∞–≥–∞–∑–∏–Ω</h3>
    <div id="shopBox" class="muted">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <div style="text-align:right;margin-top:8px"><button class="btn" onclick="closeShop()">–ó–∞–∫—Ä—ã—Ç—å</button></div>
  </div>
</div>

<div class="modal" id="craftModal">
  <div class="box">
    <h3>–ö—Ä–∞—Ñ—Ç</h3>
    <div id="craftBox" class="muted">–ó–¥–µ—Å—å –ø–æ–∫–∞ –ø—É—Å—Ç–æ...</div>
    <div style="text-align:right;margin-top:8px"><button class="btn" onclick="closeCraft()">–ó–∞–∫—Ä—ã—Ç—å</button></div>
  </div>
</div>

<script src="/app.js"></script>
</body>
</html>
